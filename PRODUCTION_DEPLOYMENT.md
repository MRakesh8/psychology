# Psychology Insight ‚Äî Production Deployment Guide

## ‚úÖ Pre-Deployment Checklist

### 1. Form Security & Validation
- [x] Implement form validation (name, email, phone, age)
- [x] Add rate limiting (30-second cooldown between submissions)
- [x] Honeypot field for bot detection
- [x] Client-side input sanitization
- [x] Disable submit button after click
- [x] Loading state with spinner
- [x] Success message before redirect
- [x] ARIA labels for accessibility

### 2. FormSubmit Configuration
- [ ] Verify email is activated: rakesh837m@gmail.com
- [ ] Test endpoint: https://formsubmit.co/el/yacenu
- [ ] Enable reCAPTCHA (optional)
- [ ] Set reply-to email
- [ ] Configure email template

### 3. WhatsApp Integration
- [ ] Update phone number in components (currently: +91 9875441236)
- [ ] Test WhatsApp links on mobile
- [ ] Verify pre-filled messages
- [ ] Add to floating button

### 4. SEO Optimization
- [x] Title tags
- [x] Meta descriptions
- [x] Open Graph tags (Facebook, LinkedIn)
- [x] Twitter Card tags
- [x] Schema.org structured data (MedicalBusiness, Person, Organization)
- [x] Heading hierarchy (H1, H2, H3)
- [x] Canonical URL
- [ ] Add sitemap.xml (auto-generated by Vercel)
- [ ] Submit to Google Search Console
- [ ] Submit to Bing Webmaster Tools

### 5. Thank You Page
- [x] Professional medical design
- [x] Responsive layout
- [x] Calm and clean aesthetic
- [x] Return to homepage button
- [x] WhatsApp contact option
- [x] 24-hour contact expectation message

### 6. Performance & Images
- [ ] Compress all images to <200KB each
- [ ] Use .webp format where possible
- [ ] Lazy load images (add loading="lazy")
- [ ] Set image dimensions to prevent layout shift
- [ ] Run Lighthouse audit (target >90)
- [ ] Optimize font loading
- [ ] Minify CSS/JS (Vite handles automatically)

### 7. Security Hardening
- [ ] Enable HTTPS (default on Vercel)
- [ ] Set security headers in vercel.json
- [x] Content Security Policy configured
- [x] X-Frame-Options set to SAMEORIGIN
- [x] X-XSS-Protection enabled
- [ ] No sensitive data in code
- [ ] Environment variables configured

### 8. Accessibility
- [x] ARIA labels on form inputs
- [x] Alt text on images
- [x] Semantic HTML structure
- [x] Keyboard navigation support
- [x] Color contrast ratios
- [ ] Test with screen reader (NVDA, JAWS)
- [ ] Run axe DevTools audit

### 9. Mobile Optimization
- [x] Responsive design (mobile-first)
- [x] Touch-friendly buttons (min 44x44px)
- [x] Readable font sizes
- [x] Proper viewport meta tag
- [ ] Test on iPhone 12, 13, 14
- [ ] Test on Android devices
- [ ] Test form submission on mobile

### 10. Browser Compatibility
- [ ] Chrome (latest)
- [ ] Firefox (latest)
- [ ] Safari (latest)
- [ ] Edge (latest)
- [ ] Mobile browsers (iOS Safari, Chrome Android)

---

## üöÄ Deployment Steps

### Step 1: Environment Configuration

Create `.env.local` in project root:

```env
VITE_FORMSUBMIT_ENDPOINT=https://formsubmit.co/ajax/rakesh837m@gmail.com
VITE_WHATSAPP_PHONE=919875441236
VITE_CONTACT_EMAIL=rakesh837m@gmail.com
VITE_INSTAGRAM_URL=https://instagram.com/psychology__insight
VITE_YOUTUBE_URL=https://youtube.com/@psychologyinsight849
VITE_SITE_URL=https://psychologyinsight.com
```

Do NOT commit `.env.local` to GitHub.

### Step 2: Local Testing

```bash
# Install dependencies
npm install

# Remove unused packages
npm uninstall @google/genai better-sqlite3 express tsx @types/express @types/node dotenv

# Run development server
npm run dev

# Test all forms
# Test contact form - verify email received
# Test booking form - verify all fields validate
# Test WhatsApp buttons on mobile
```

### Step 3: Production Build

```bash
# Build for production
npm run build

# Preview production build
npm run preview

# Run Lighthouse audit
# Chrome DevTools > Lighthouse > Analyze page load
```

**Lighthouse Targets:**
- Performance: 90+
- Accessibility: 95+
- Best Practices: 95+
- SEO: 100

### Step 4: Deploy to Vercel

#### Option A: Via Vercel Dashboard

1. Go to https://vercel.com
2. Click "New Project"
3. Import repository from GitHub
4. Configure project:
   - Framework: Vite
   - Build command: `npm run build`
   - Output directory: `dist`
5. Add environment variables in Settings ‚Üí Environment Variables

#### Option B: Via Vercel CLI

```bash
# Install Vercel CLI
npm install -g vercel

# Deploy
vercel

# Add environment variables
vercel env add VITE_FORMSUBMIT_ENDPOINT
vercel env add VITE_WHATSAPP_PHONE
vercel env add VITE_CONTACT_EMAIL
```

### Step 5: Post-Deployment Verification

```bash
# Verify deployment
curl -I https://psychologyinsight.com

# Check security headers
curl -I https://psychologyinsight.com | grep -E "X-|Referrer|Permissions"

# Validate meta tags
curl https://psychologyinsight.com | grep -E "og:|twitter:"

# Test API endpoint
curl -X POST https://psychologyinsight.com/.../forms
```

### Step 6: SEO & Analytics Setup

1. **Google Search Console**
   - Go to https://search.google.com/search-console
   - Add property: https://psychologyinsight.com
   - Submit sitemap
   - Monitor indexing

2. **Google Analytics 4**
   - Create property at https://analytics.google.com
   - Add measurement ID to website
   - Monitor traffic patterns

3. **Bing Webmaster Tools**
   - Go to https://www.bing.com/webmasters
   - Add property
   - Submit sitemap

4. **Google My Business**
   - Claim business at https://business.google.com
   - Add location, phone, hours
   - Verify psychologist credentials

---

## üîê Security Checklist

### API Security

```typescript
// Mark as done:
// [x] Honeypot field implemented
// [x] Rate limiting (30s window)
// [x] Input validation
// [x] Input sanitization
// [x] CORS handled by FormSubmit
// [x] No sensitive data in requests
// [x] HTTPS enforced (default on Vercel)
```

### Content Security Policy

```
default-src 'self'
script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net
style-src 'self' 'unsafe-inline' https://fonts.googleapis.com
img-src 'self' data: https:
font-src 'self' https://fonts.gstatic.com
connect-src 'self' https://formsubmit.co https://wa.me
frame-src 'self'
```

### Privacy & GDPR

> **Privacy Notice**: This website uses FormSubmit.co to process contact forms. User data is transmitted securely and not stored on our servers. By submitting a form, you agree to FormSubmit's privacy policy.

Add to website footer or privacy policy.

---

## üìä Performance Monitoring

### Vercel Analytics

```bash
# Enable in vercel.json
{
  "analytics": true
}
```

Goes to: Vercel Dashboard ‚Üí Analytics ‚Üí Performance

### Google PageSpeed Insights

1. Go to https://pagespeed.web.dev
2. Analyze: https://psychologyinsight.com
3. Target scores:
   - Mobile: 90+
   - Desktop: 95+

### Monitoring Tools

| Tool | Purpose | Target |
|------|---------|--------|
| Lighthouse | Performance audit | 90+ score |
| Vercel Analytics | Real user metrics | <2s LCP, <100ms FID |
| Sentry | Error tracking | 0 errors |
| UptimeRobot | Availability | 99.9% uptime |

---

## üêõ Troubleshooting

### Forms Not Submitting

**Problem:** "Unable to send your message" error

**Solutions:**
1. Check FormSubmit endpoint in code
2. Verify email activation: https://formsubmit.co/el/yacenu
3. Check browser console for CORS errors
4. Verify honeypot field (should be hidden)
5. Test directly: `curl -X POST https://formsubmit.co/...`

### Low Lighthouse Scores

**Problem:** Performance <90

**Solutions:**
1. Compress images to <200KB each
   ```bash
   # Use online tools:
   # https://tinypng.com
   # https://www.imageoptim.com
   ```
2. Remove unused CSS (check Tailwind purge)
3. Lazy load images: `<img loading="lazy" />`
4. Minify SVGs at https://svgomg.firefly.dev
5. Check unused dependencies: `npm ls`

### WhatsApp Links Not Opening

**Problem:** WhatsApp button opens but doesn't send message

**Solutions:**
1. Verify phone format: `919876543210` (no `+` or spaces)
2. Test URL manually: `https://wa.me/919876543210`
3. Encode message properly with `encodeURIComponent()`
4. Ensure WhatsApp is installed on device

### SEO Issues

**Problem:** Not ranking in Google Search

**Solutions:**
1. Submit sitemap to Search Console
2. Verify meta tags: `curl https://psychologyinsight.com | grep og:`
3. Add structured data: Run https://schema.org/docs/validator.html
4. Check robots.txt (Vercel provides default)
5. Wait 2-4 weeks for indexing

---

## üìù Content Migration Checklist

- [ ] Update hero image at `/public/images/hero-psychology.png`
- [ ] Update brand name (search for "Psychology Insight")
- [ ] Update email (search for "rakesh837m@gmail.com")
- [ ] Update Instagram URL
- [ ] Update YouTube URL
- [ ] Update WhatsApp phone number
- [ ] Add specializations in index.html
- [ ] Add psychological insights/blog cards
- [ ] Update contact methods
- [ ] Add professional credentials
- [ ] Review all form field names
- [ ] Test form submissions end-to-end

---

## üîÑ Continuous Improvement

### Weekly
- [ ] Check Google Search Console for errors
- [ ] Monitor form submission success rate
- [ ] Check for JavaScript errors (Sentry)

### Monthly
- [ ] Run Lighthouse audit
- [ ] Review analytics data
- [ ] Check Vercel performance metrics
- [ ] Test forms on new devices

### Quarterly
- [ ] Update content/blog posts
- [ ] Refresh images
- [ ] Review and update SEO strategy
- [ ] Analyze user behavior

---

## üìû Support & Resources

**FormSubmit:**
- Website: https://formsubmit.co
- Docs: https://formsubmit.co/documentation

**Vercel:**
- Docs: https://vercel.com/docs
- Pricing: https://vercel.com/pricing
- Support: https://vercel.com/support

**Google Search Console:**
- https://search.google.com/search-console

**Accessibility:**
- WCAG 2.1: https://www.w3.org/WAI/WCAG21/quickref/
- axe DevTools: Browser extension for accessibility testing

---

**Last Updated:** February 27, 2026  
**Version:** 1.0.0 (Production Ready)
